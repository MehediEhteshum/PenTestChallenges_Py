import socket

def main():
    ip = input("Please enter the IPv4 address (e.g. 000.255.000.255): ")
    port = portNumber()
    print(f"Your input -\nIPv4 address: {ip} and\nport number: {port}")
    grabBanner(ip, port)

def portNumber():
    # returns numeric port number
    try:
        port = int(input("Please enter the port number: "))
        return port
    except Exception as e:
        print("Please enter a valid port number.")
        port = portNumber()
        return port

def grabBanner(ip, port):
    # connects and grabs the banner
    try:
        s = socket.socket()
        s.settimeout(30)
        s.connect((ip, port))
        print(s.recv(1024))
    except Exception as e:
        print(f"Nothing is perfect! We're having trouble!\nPlease check you IPv4 address or try again later.\nError: {e}")

main()
